generator client {
  provider = "prisma-client-js"
  engineType = "library"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres.xogilzudxbrzukbhlbvv:Yash*123@aws-1-ap-northeast-2.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
}

model Route {
  route_id         String @id
  route_short_name String
  route_long_name  String?
  area             String? // e.g. "North", "South"
  trips            Trip[]
}

model Stop {
  stop_id   String     @id
  stop_name String
  stop_lat  Float
  stop_lon  Float
  stopTimes StopTime[]
}

model Trip {
  trip_id       String     @id
  route_id      String
  direction_id  Int        // 0 = Up, 1 = Down
  trip_headsign String?
  route         Route      @relation(fields: [route_id], references: [route_id])
  stopTimes     StopTime[]
}

model StopTime {
  id            Int    @id @default(autoincrement())
  trip_id       String
  stop_id       String
  arrival_time  String
  stop_sequence Int
  trip          Trip   @relation(fields: [trip_id], references: [trip_id])
  stop          Stop   @relation(fields: [stop_id], references: [stop_id])

  @@index([trip_id])
  @@index([stop_id])
  @@index([stop_sequence])
}
